<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Evaluating Model Predictions | We R Under Way: A Data Science Portfolio</title>
  <meta name="description" content="Just some of my adventures so far in the lands of environmental data. Warning: I can’t help adding nerd jokes, so pun-ish me." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Evaluating Model Predictions | We R Under Way: A Data Science Portfolio" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Just some of my adventures so far in the lands of environmental data. Warning: I can’t help adding nerd jokes, so pun-ish me." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Evaluating Model Predictions | We R Under Way: A Data Science Portfolio" />
  
  <meta name="twitter:description" content="Just some of my adventures so far in the lands of environmental data. Warning: I can’t help adding nerd jokes, so pun-ish me." />
  

<meta name="author" content="Kaydee S. Barker" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="multivariate-statistics-and-principle-components-analysis.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.0/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.0/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">We R Under Way: A Data Science Portfolio</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="2" data-path="interactive-graphing-discharge-of-the-poudre-river.html"><a href="interactive-graphing-discharge-of-the-poudre-river.html"><i class="fa fa-check"></i><b>2</b> Interactive Graphing: Discharge of the Poudre River<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="interactive-graphing-discharge-of-the-poudre-river.html"><a href="interactive-graphing-discharge-of-the-poudre-river.html#background-on-the-poudre-river"><i class="fa fa-check"></i><b>2.1</b> Background on the Poudre River<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="interactive-graphing-discharge-of-the-poudre-river.html"><a href="interactive-graphing-discharge-of-the-poudre-river.html#interactive-discharge-chart"><i class="fa fa-check"></i><b>2.2</b> Interactive Discharge Chart<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="looking-at-effects-of-fire-on-vegetation.html"><a href="looking-at-effects-of-fire-on-vegetation.html"><i class="fa fa-check"></i><b>3</b> Looking at Effects of Fire on Vegetation<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="looking-at-effects-of-fire-on-vegetation.html"><a href="looking-at-effects-of-fire-on-vegetation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="looking-at-effects-of-fire-on-vegetation.html"><a href="looking-at-effects-of-fire-on-vegetation.html#what-is-the-correlation-between-ndvi-and-ndmi"><i class="fa fa-check"></i><b>3.2</b> What is the correlation between NDVI and NDMI?<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="looking-at-effects-of-fire-on-vegetation.html"><a href="looking-at-effects-of-fire-on-vegetation.html#what-month-is-the-greenest-month-on-average"><i class="fa fa-check"></i><b>3.3</b> What month is the greenest month on average?<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="looking-at-effects-of-fire-on-vegetation.html"><a href="looking-at-effects-of-fire-on-vegetation.html#what-month-is-the-snowiest-on-average"><i class="fa fa-check"></i><b>3.4</b> What month is the snowiest on average?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="fire-effects-on-fish-populations.html"><a href="fire-effects-on-fish-populations.html"><i class="fa fa-check"></i><b>4</b> Fire Effects on Fish Populations<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="fire-effects-on-fish-populations.html"><a href="fire-effects-on-fish-populations.html#pre-versus-post-fire-fish-length-and-mass"><i class="fa fa-check"></i><b>4.1</b> Pre versus post fire fish length and mass<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="fire-effects-on-fish-populations.html"><a href="fire-effects-on-fish-populations.html#linear-regression-of-fish-mass-vs.-length-for-before-and-after-the-fire"><i class="fa fa-check"></i><b>4.2</b> Linear regression of fish mass vs. length for before and after the fire<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html"><i class="fa fa-check"></i><b>5</b> Extracting and Visualizing Meteorological Data<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#extract-the-meteorological-data-urls."><i class="fa fa-check"></i><b>5.1</b> Extract the meteorological data URLs.<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#download-the-meteorological-data-from-the-url"><i class="fa fa-check"></i><b>5.2</b> Download the meteorological data from the URL<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#write-a-custom-function-to-read-in-the-data-and-append-a-site-column-to-the-data"><i class="fa fa-check"></i><b>5.3</b> Write a custom function to read in the data and append a site column to the data<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#use-the-map-function-to-read-in-both-meteorological-files"><i class="fa fa-check"></i><b>5.4</b> Use the <code>map</code> function to read in both meteorological files<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#make-a-line-plot-of-mean-temp-by-year-by-site"><i class="fa fa-check"></i><b>5.5</b> Make a line plot of mean temp by year by site<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#write-a-function-that-makes-line-plots-of-monthly-average-temperature-at-each-site-for-a-given-year.-use-a-for-loop-to-make-these-plots-for-2005-to-2010."><i class="fa fa-check"></i><b>5.6</b> Write a function that makes line plots of monthly average temperature at each site for a given year. Use a for loop to make these plots for 2005 to 2010.<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="extracting-and-visualizing-meteorological-data.html"><a href="extracting-and-visualizing-meteorological-data.html#make-a-plot-of-average-daily-precipitation-by-day-of-year-averaged-across-all-available-years"><i class="fa fa-check"></i><b>5.7</b> Make a plot of average daily precipitation by day of year (averaged across all available years)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html"><i class="fa fa-check"></i><b>6</b> Spatial Analysis in R<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#loading-in-data"><i class="fa fa-check"></i><b>6.1</b> Loading in data<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#first-download-and-then-specifically-grab-the-locus-or-site-lat-longs"><i class="fa fa-check"></i><b>6.1.1</b> First download and then specifically grab the locus (or site lat longs)<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#convert-to-spatial-data"><i class="fa fa-check"></i><b>6.1.2</b> Convert to spatial data<span></span></a></li>
<li class="chapter" data-level="6.1.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#subset-to-only-minnesota"><i class="fa fa-check"></i><b>6.1.3</b> Subset to only Minnesota<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#part-one"><i class="fa fa-check"></i><b>6.2</b> Part one<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#show-a-map-outline-of-iowa-and-illinois-similar-to-minnesota-map-upstream"><i class="fa fa-check"></i><b>6.2.1</b> Show a map outline of Iowa and Illinois (similar to Minnesota map upstream)<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#subset-lagos-data-to-these-sites-how-many-sites-are-in-illinois-and-iowa-combined-how-does-this-compare-to-minnesota"><i class="fa fa-check"></i><b>6.2.2</b> Subset LAGOS data to these sites, how many sites are in Illinois and Iowa combined? How does this compare to Minnesota?<span></span></a></li>
<li class="chapter" data-level="6.2.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#what-is-the-distribution-of-lake-size-in-iowa-vs.-minnesota"><i class="fa fa-check"></i><b>6.2.3</b> What is the distribution of lake size in Iowa vs. Minnesota?<span></span></a></li>
<li class="chapter" data-level="6.2.4" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#make-an-interactive-plot-of-lakes-in-iowa-and-illinois-and-color-them-by-lake-area-in-hectares"><i class="fa fa-check"></i><b>6.2.4</b> Make an interactive plot of lakes in Iowa and Illinois and color them by lake area in hectares<span></span></a></li>
<li class="chapter" data-level="6.2.5" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#what-other-data-sources-might-we-use-to-understand-how-reservoirs-and-natural-lakes-vary-in-size-in-these-three-states"><i class="fa fa-check"></i><b>6.2.5</b> What other data sources might we use to understand how reservoirs and natural lakes vary in size in these three states?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#part-two"><i class="fa fa-check"></i><b>6.3</b> Part two<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#subsets"><i class="fa fa-check"></i><b>6.3.1</b> Subsets<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#mean-chlorophyll-a-map"><i class="fa fa-check"></i><b>6.3.2</b> Mean Chlorophyll A map<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#what-is-the-correlation-between-secchi-disk-depth-and-chlorophyll-a-for-sites-with-at-least-200-observations"><i class="fa fa-check"></i><b>6.3.3</b> What is the correlation between Secchi Disk Depth and Chlorophyll a for sites with at least 200 observations?<span></span></a></li>
<li class="chapter" data-level="6.3.4" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#what-states-have-the-most-data"><i class="fa fa-check"></i><b>6.3.4</b> What states have the most data?<span></span></a></li>
<li class="chapter" data-level="6.3.5" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#is-there-a-spatial-pattern-in-secchi-disk-depth-for-lakes-with-at-least-200-observations"><i class="fa fa-check"></i><b>6.3.5</b> Is there a spatial pattern in Secchi disk depth for lakes with at least 200 observations?<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html"><i class="fa fa-check"></i><b>7</b> Linear Regressions, Quadratic Fits, Residuals, and Spatial<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#weather-data-analysis"><i class="fa fa-check"></i><b>7.1</b> Weather Data Analysis<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#load-the-prism-daily-maximum-temperatures"><i class="fa fa-check"></i><b>7.1.1</b> Load the PRISM daily maximum temperatures<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#download-nass-corn-yield-data"><i class="fa fa-check"></i><b>7.1.2</b> Download NASS corn yield data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#extract-winneshiek-county-corn-yields-fit-a-linear-time-trend-make-a-plot.-is-there-a-significant-time-trend"><i class="fa fa-check"></i><b>7.2</b> Extract Winneshiek County corn yields, fit a linear time trend, make a plot. Is there a significant time trend?<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#fit-a-quadratic-time-trend-i.e.-year-year2-and-make-a-plot.-is-there-evidence-for-slowing-yield-growth"><i class="fa fa-check"></i><b>7.3</b> Fit a quadratic time trend (i.e., year + year^2) and make a plot. Is there evidence for slowing yield growth?<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#time-series-lets-analyze-the-relationship-between-temperature-and-yields-for-the-winneshiek-county-time-series.-use-data-on-yield-and-summer-avg-tmax.-is-adding-year-or-tmax2-to-your-model-helpful-make-a-plot-and-interpret-the-results."><i class="fa fa-check"></i><b>7.4</b> Time Series: Let’s analyze the relationship between temperature and yields for the Winneshiek County time series. Use data on yield and summer avg Tmax. Is adding year or Tmax^2 to your model helpful? Make a plot and interpret the results.<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#cross-section-analyze-the-relationship-between-temperature-and-yield-across-all-counties-in-2018.-is-there-a-relationship-interpret-the-results."><i class="fa fa-check"></i><b>7.5</b> Cross-Section: Analyze the relationship between temperature and yield across all counties in 2018. Is there a relationship? Interpret the results.<span></span></a></li>
<li class="chapter" data-level="7.6" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#panel-one-way-to-leverage-multiple-time-series-is-to-group-all-data-into-what-is-called-a-panel-regression."><i class="fa fa-check"></i><b>7.6</b> Panel: One way to leverage multiple time series is to group all data into what is called a “panel” regression.<span></span></a></li>
<li class="chapter" data-level="7.7" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#soybeans-download-nass-data-on-soybean-yields-and-explore-either-a-time-series-relationship-for-a-given-county-the-cross-sectional-relationship-for-a-given-year-or-a-panel-across-all-counties-and-years."><i class="fa fa-check"></i><b>7.7</b> Soybeans: Download NASS data on soybean yields and explore either a time series relationship for a given county, the cross-sectional relationship for a given year, or a panel across all counties and years.<span></span></a></li>
<li class="chapter" data-level="7.8" data-path="linear-regressions-quadratic-fits-residuals-and-spatial.html"><a href="linear-regressions-quadratic-fits-residuals-and-spatial.html#bonus-find-a-package-to-make-a-county-map-of-iowa-displaying-some-sort-of-information-about-yields-or-weather.-interpret-your-map."><i class="fa fa-check"></i><b>7.8</b> Bonus: Find a package to make a county map of Iowa displaying some sort of information about yields or weather. Interpret your map.<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html"><i class="fa fa-check"></i><b>8</b> Multivariate Statistics and Principle Components Analysis<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#scatterplot-matrix-of-variables"><i class="fa fa-check"></i><b>8.1</b> Scatterplot matrix of variables<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#correlation-matrix"><i class="fa fa-check"></i><b>8.2</b> Correlation matrix<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#calculate-variances"><i class="fa fa-check"></i><b>8.3</b> Calculate variances<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#standardizing-variables"><i class="fa fa-check"></i><b>8.4</b> Standardizing variables<span></span></a></li>
<li class="chapter" data-level="8.5" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#pca-on-standardized-data"><i class="fa fa-check"></i><b>8.5</b> PCA on standardized data<span></span></a></li>
<li class="chapter" data-level="8.6" data-path="multivariate-statistics-and-principle-components-analysis.html"><a href="multivariate-statistics-and-principle-components-analysis.html#pca-on-raw-data"><i class="fa fa-check"></i><b>8.6</b> PCA on raw data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html"><i class="fa fa-check"></i><b>9</b> Evaluating Model Predictions<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html#merge-model-predictions-and-observed-data"><i class="fa fa-check"></i><b>9.1</b> Merge model predictions and observed data<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html#linear-regression-model-and-anova-of-wheat-predictions-vs.-observations"><i class="fa fa-check"></i><b>9.2</b> Linear regression model and ANOVA of wheat predictions vs. observations<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html#linear-regression-model-and-anova-of-corn-predictions-vs.-observations"><i class="fa fa-check"></i><b>9.3</b> Linear regression model and ANOVA of corn predictions vs. observations<span></span></a></li>
<li class="chapter" data-level="9.4" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html#mean-standard-deviation-and-standard-error-for-predicted-and-observed-outputs"><i class="fa fa-check"></i><b>9.4</b> Mean, standard deviation, and standard error for predicted and observed outputs<span></span></a></li>
<li class="chapter" data-level="9.5" data-path="evaluating-model-predictions.html"><a href="evaluating-model-predictions.html#model-evaluation-via-mean-absolute-error-mae-and-root-mean-squared-error-rmse"><i class="fa fa-check"></i><b>9.5</b> Model evaluation via Mean Absolute Error (MAE) and Root Mean Squared Error (RMSE)<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">We R Under Way: A Data Science Portfolio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="evaluating-model-predictions" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Chapter 9</span> Evaluating Model Predictions<a href="evaluating-model-predictions.html#evaluating-model-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>“Being a statistician means never having to say you are certain.”</p>
</blockquote>
<p>In environmental sciences, it can be extremely valuable to not only try to parse out correlations and “peer inside the black box” to explain phenomena, but to also try to predict outcomes based on specific inputs and parameters. Equally important when we try to model predictions is to evaluate how well our model performs and predicts data. For this chapter, I looked at predictions from the <a href="https://www2.nrel.colostate.edu/projects/century/MANUAL/html_manual/man96.html">CENTURY Model</a> and evaluated how well the model fit with observed corn and wheat yield data from 1999-2013.</p>
<p>Data and assignment provided by Dr. Michael Lefsky of Colorado State University.</p>
<div id="merge-model-predictions-and-observed-data" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Merge model predictions and observed data<a href="evaluating-model-predictions.html#merge-model-predictions-and-observed-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="evaluating-model-predictions.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load datasets</span></span>
<span id="cb150-2"><a href="evaluating-model-predictions.html#cb150-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-3"><a href="evaluating-model-predictions.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Century Model output through 2016</span></span>
<span id="cb150-4"><a href="evaluating-model-predictions.html#cb150-4" aria-hidden="true" tabindex="-1"></a>centgrain <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Data_sci_bookdown/data/model-assess/century_harvest.csv&quot;</span>)</span>
<span id="cb150-5"><a href="evaluating-model-predictions.html#cb150-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-6"><a href="evaluating-model-predictions.html#cb150-6" aria-hidden="true" tabindex="-1"></a>centgrain13 <span class="ot">&lt;-</span> centgrain[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">16</span><span class="sc">:</span><span class="dv">18</span>),] <span class="co">#Century model outputs through 2013</span></span>
<span id="cb150-7"><a href="evaluating-model-predictions.html#cb150-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-8"><a href="evaluating-model-predictions.html#cb150-8" aria-hidden="true" tabindex="-1"></a>centwheat <span class="ot">&lt;-</span> centgrain13 <span class="sc">%&gt;%</span></span>
<span id="cb150-9"><a href="evaluating-model-predictions.html#cb150-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Crop <span class="sc">==</span> <span class="st">&quot;wheat&quot;</span>) <span class="co">#just the wheat outputs</span></span>
<span id="cb150-10"><a href="evaluating-model-predictions.html#cb150-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-11"><a href="evaluating-model-predictions.html#cb150-11" aria-hidden="true" tabindex="-1"></a>centcorn <span class="ot">&lt;-</span> centgrain13 <span class="sc">%&gt;%</span></span>
<span id="cb150-12"><a href="evaluating-model-predictions.html#cb150-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Crop <span class="sc">==</span> <span class="st">&quot;corn&quot;</span>) <span class="co">#just the corn outputs</span></span>
<span id="cb150-13"><a href="evaluating-model-predictions.html#cb150-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-14"><a href="evaluating-model-predictions.html#cb150-14" aria-hidden="true" tabindex="-1"></a><span class="co">#load observed data</span></span>
<span id="cb150-15"><a href="evaluating-model-predictions.html#cb150-15" aria-hidden="true" tabindex="-1"></a>obsgrain <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Data_sci_bookdown/data/model-assess/obs_corn_wheat_cgrain.csv&quot;</span>) <span class="co">#observed data through 2013</span></span>
<span id="cb150-16"><a href="evaluating-model-predictions.html#cb150-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-17"><a href="evaluating-model-predictions.html#cb150-17" aria-hidden="true" tabindex="-1"></a>obswheat <span class="ot">&lt;-</span> obsgrain <span class="sc">%&gt;%</span></span>
<span id="cb150-18"><a href="evaluating-model-predictions.html#cb150-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Crop <span class="sc">==</span> <span class="st">&quot;wheat&quot;</span>) <span class="co">#just the wheat outputs</span></span>
<span id="cb150-19"><a href="evaluating-model-predictions.html#cb150-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-20"><a href="evaluating-model-predictions.html#cb150-20" aria-hidden="true" tabindex="-1"></a>obscorn <span class="ot">&lt;-</span> obsgrain <span class="sc">%&gt;%</span></span>
<span id="cb150-21"><a href="evaluating-model-predictions.html#cb150-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Crop <span class="sc">==</span> <span class="st">&quot;corn&quot;</span>) <span class="co">#just the corn outputs</span></span>
<span id="cb150-22"><a href="evaluating-model-predictions.html#cb150-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-23"><a href="evaluating-model-predictions.html#cb150-23" aria-hidden="true" tabindex="-1"></a><span class="co">#merge data from Century Model and observations</span></span>
<span id="cb150-24"><a href="evaluating-model-predictions.html#cb150-24" aria-hidden="true" tabindex="-1"></a>wheat <span class="ot">&lt;-</span> <span class="fu">merge</span>(centwheat,obswheat, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;Year&#39;</span>,<span class="st">&#39;Crop&#39;</span>), <span class="at">all.x =</span> T) <span class="co"># merge predicted and observed wheat yields</span></span>
<span id="cb150-25"><a href="evaluating-model-predictions.html#cb150-25" aria-hidden="true" tabindex="-1"></a>corn <span class="ot">&lt;-</span> <span class="fu">merge</span>(centcorn,obscorn, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;Year&#39;</span>,<span class="st">&#39;Crop&#39;</span>), <span class="at">all.x =</span> T) <span class="co"># merge predicted and observed wheat yields</span></span>
<span id="cb150-26"><a href="evaluating-model-predictions.html#cb150-26" aria-hidden="true" tabindex="-1"></a>allgrain <span class="ot">&lt;-</span> <span class="fu">merge</span>(centgrain13, obsgrain, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;Year&#39;</span>,<span class="st">&#39;Crop&#39;</span>), <span class="at">all.x =</span> T) <span class="co"># merge all predicted and observed</span></span></code></pre></div>
</div>
<div id="linear-regression-model-and-anova-of-wheat-predictions-vs.-observations" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Linear regression model and ANOVA of wheat predictions vs. observations<a href="evaluating-model-predictions.html#linear-regression-model-and-anova-of-wheat-predictions-vs.-observations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="evaluating-model-predictions.html#cb151-1" aria-hidden="true" tabindex="-1"></a>lm_wheat <span class="ot">&lt;-</span> <span class="fu">lm</span>(cgrain_cent <span class="sc">~</span> cgrain_obs, <span class="at">data =</span> wheat) <span class="co"># linear model of predicted vs. observed wheat yields</span></span>
<span id="cb151-2"><a href="evaluating-model-predictions.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_wheat) <span class="co"># intercept, slope (estimate column), P, R^2</span></span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = cgrain_cent ~ cgrain_obs, data = wheat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -59.857  -2.631   6.911  14.383  25.962 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept) 512.0318   127.8900   4.004  0.00709 **
## cgrain_obs   -0.4359     0.3544  -1.230  0.26473   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 28.83 on 6 degrees of freedom
## Multiple R-squared:  0.2014, Adjusted R-squared:  0.06827 
## F-statistic: 1.513 on 1 and 6 DF,  p-value: 0.2647</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="evaluating-model-predictions.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(lm_wheat)) <span class="co"># ANOVA</span></span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## cgrain_obs   1   1257  1257.3   1.513  0.265
## Residuals    6   4986   831.1</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="evaluating-model-predictions.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> wheat, <span class="fu">aes</span>(<span class="at">x=</span>cgrain_cent,<span class="at">y=</span>cgrain_obs)) <span class="sc">+</span> </span>
<span id="cb155-2"><a href="evaluating-model-predictions.html#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">color=</span><span class="st">&quot;#78917E&quot;</span>) <span class="sc">+</span></span>
<span id="cb155-3"><a href="evaluating-model-predictions.html#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Predicted Yields (g C/m2/yr)&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="fu">paste</span>(<span class="st">&quot;Observed Yields (g C/m2/yr)&quot;</span>))) <span class="sc">+</span> </span>
<span id="cb155-4"><a href="evaluating-model-predictions.html#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Predicted vs. Observed Wheat Yields&quot;</span>) <span class="sc">+</span></span>
<span id="cb155-5"><a href="evaluating-model-predictions.html#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_few</span>(<span class="at">base_size =</span> <span class="dv">16</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-55"></span>
<img src="Rportfolio-bookdown_files/figure-html/unnamed-chunk-55-1.png" alt="Scatterplot and linear regression line of predicted and observed wheat yields in grams of carbon (C) per m2 per year between 1999 and 2013. The equation of the line is -0.436x + 512, demonstrating that observed yields were lower than predicted yields on average. The multiple R2 value is 0. 201 and the adjusted R2 value is 0.0683, indicating a very weak linear relationship. The p-value is 0.265, considerably higher than what is generally considered to be significant." width="672" />
<p class="caption">
Figure 9.1: Scatterplot and linear regression line of predicted and observed wheat yields in grams of carbon (C) per m2 per year between 1999 and 2013. The equation of the line is -0.436x + 512, demonstrating that observed yields were lower than predicted yields on average. The multiple R2 value is 0. 201 and the adjusted R2 value is 0.0683, indicating a very weak linear relationship. The p-value is 0.265, considerably higher than what is generally considered to be significant.
</p>
</div>
</div>
<div id="linear-regression-model-and-anova-of-corn-predictions-vs.-observations" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Linear regression model and ANOVA of corn predictions vs. observations<a href="evaluating-model-predictions.html#linear-regression-model-and-anova-of-corn-predictions-vs.-observations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="evaluating-model-predictions.html#cb157-1" aria-hidden="true" tabindex="-1"></a>lm_corn <span class="ot">&lt;-</span> <span class="fu">lm</span>(cgrain_cent <span class="sc">~</span> cgrain_obs, <span class="at">data =</span> corn) <span class="co"># linear model of predicted vs. observed corn yields</span></span>
<span id="cb157-2"><a href="evaluating-model-predictions.html#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_corn) <span class="co"># intercept, slope (estimate column), P, R^2</span></span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = cgrain_cent ~ cgrain_obs, data = corn)
## 
## Residuals:
##        1        2        3        4        5        6        7 
##  -7.7548  -0.1305 -16.2379 -18.3472  14.2575  14.2393  13.9737 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept) 281.5815    74.7988   3.765   0.0131 *
## cgrain_obs    0.3199     0.1731   1.849   0.1238  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 15.89 on 5 degrees of freedom
## Multiple R-squared:  0.406,  Adjusted R-squared:  0.2872 
## F-statistic: 3.418 on 1 and 5 DF,  p-value: 0.1238</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="evaluating-model-predictions.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(lm_corn)) <span class="co"># ANOVA</span></span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## cgrain_obs   1  862.4   862.4   3.418  0.124
## Residuals    5 1261.7   252.3</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="evaluating-model-predictions.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> corn, <span class="fu">aes</span>(<span class="at">x=</span>cgrain_cent,<span class="at">y=</span>cgrain_obs)) <span class="sc">+</span> </span>
<span id="cb161-2"><a href="evaluating-model-predictions.html#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">color=</span><span class="st">&quot;#78917E&quot;</span>) <span class="sc">+</span></span>
<span id="cb161-3"><a href="evaluating-model-predictions.html#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Predicted Yields (g C/m2/yr)&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="fu">paste</span>(<span class="st">&quot;Observed Yields (g C/m2/yr)&quot;</span>))) <span class="sc">+</span> </span>
<span id="cb161-4"><a href="evaluating-model-predictions.html#cb161-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Predicted vs. Observed Corn Yields&quot;</span>) <span class="sc">+</span></span>
<span id="cb161-5"><a href="evaluating-model-predictions.html#cb161-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_few</span>(<span class="at">base_size =</span> <span class="dv">16</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-56"></span>
<img src="Rportfolio-bookdown_files/figure-html/unnamed-chunk-56-1.png" alt="Scatterplot and linear regression line of predicted and observed corn yields in grams of carbon (C) per m2 per year between 1999 and 2013. The equation of the line is 0.320x + 282, demonstrating that observed yields were higher than predicted yields on average. The multiple R2 value is 0.406 and the adjusted R2 value is 0.287, indicating that the linear relationship is weak. The p-value is 0.124, a little higher than what is generally considered to be significant." width="672" />
<p class="caption">
Figure 9.2: Scatterplot and linear regression line of predicted and observed corn yields in grams of carbon (C) per m2 per year between 1999 and 2013. The equation of the line is 0.320x + 282, demonstrating that observed yields were higher than predicted yields on average. The multiple R2 value is 0.406 and the adjusted R2 value is 0.287, indicating that the linear relationship is weak. The p-value is 0.124, a little higher than what is generally considered to be significant.
</p>
</div>
</div>
<div id="mean-standard-deviation-and-standard-error-for-predicted-and-observed-outputs" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Mean, standard deviation, and standard error for predicted and observed outputs<a href="evaluating-model-predictions.html#mean-standard-deviation-and-standard-error-for-predicted-and-observed-outputs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="evaluating-model-predictions.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summary stats for predicted outputs - mean, sd, se</span></span>
<span id="cb163-2"><a href="evaluating-model-predictions.html#cb163-2" aria-hidden="true" tabindex="-1"></a>centwheat <span class="sc">%&gt;%</span> <span class="co"># summary stats for CM wheat outputs</span></span>
<span id="cb163-3"><a href="evaluating-model-predictions.html#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb163-4"><a href="evaluating-model-predictions.html#cb163-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean =</span> <span class="fu">mean</span>(cgrain_cent), <span class="co"># mean</span></span>
<span id="cb163-5"><a href="evaluating-model-predictions.html#cb163-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(cgrain_cent), <span class="co"># standard deviation</span></span>
<span id="cb163-6"><a href="evaluating-model-predictions.html#cb163-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">SE =</span> sd<span class="sc">/</span><span class="fu">sqrt</span>(n)) <span class="co"># standard error</span></span></code></pre></div>
<pre><code>##   n     mean       sd       SE
## 1 8 355.2258 29.86568 10.55911</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="evaluating-model-predictions.html#cb165-1" aria-hidden="true" tabindex="-1"></a>centcorn <span class="sc">%&gt;%</span> <span class="co"># summary stats for CM corn outputs</span></span>
<span id="cb165-2"><a href="evaluating-model-predictions.html#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb165-3"><a href="evaluating-model-predictions.html#cb165-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean =</span> <span class="fu">mean</span>(cgrain_cent), <span class="co"># mean</span></span>
<span id="cb165-4"><a href="evaluating-model-predictions.html#cb165-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(cgrain_cent), <span class="co"># standard deviation</span></span>
<span id="cb165-5"><a href="evaluating-model-predictions.html#cb165-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">SE =</span> sd<span class="sc">/</span><span class="fu">sqrt</span>(n)) <span class="co"># standard error</span></span></code></pre></div>
<pre><code>##   n     mean       sd       SE
## 1 7 419.4124 18.81556 7.111612</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="evaluating-model-predictions.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summary stats for observed outputs - mean, sd, se</span></span>
<span id="cb167-2"><a href="evaluating-model-predictions.html#cb167-2" aria-hidden="true" tabindex="-1"></a>obswheat <span class="sc">%&gt;%</span> <span class="co"># summary stats for observed wheat outputs</span></span>
<span id="cb167-3"><a href="evaluating-model-predictions.html#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb167-4"><a href="evaluating-model-predictions.html#cb167-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean =</span> <span class="fu">mean</span>(cgrain_obs), <span class="co"># mean</span></span>
<span id="cb167-5"><a href="evaluating-model-predictions.html#cb167-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(cgrain_obs), <span class="co"># standard deviation</span></span>
<span id="cb167-6"><a href="evaluating-model-predictions.html#cb167-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">SE =</span> sd<span class="sc">/</span><span class="fu">sqrt</span>(n)) <span class="co"># standard error</span></span></code></pre></div>
<pre><code>##   n  mean       sd       SE
## 1 8 359.7 30.74364 10.86952</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="evaluating-model-predictions.html#cb169-1" aria-hidden="true" tabindex="-1"></a>obscorn <span class="sc">%&gt;%</span> <span class="co"># summary stats for observed corn outputs</span></span>
<span id="cb169-2"><a href="evaluating-model-predictions.html#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb169-3"><a href="evaluating-model-predictions.html#cb169-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean =</span> <span class="fu">mean</span>(cgrain_obs), <span class="co"># mean</span></span>
<span id="cb169-4"><a href="evaluating-model-predictions.html#cb169-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(cgrain_obs), <span class="co"># standard deviation</span></span>
<span id="cb169-5"><a href="evaluating-model-predictions.html#cb169-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">SE =</span> sd<span class="sc">/</span><span class="fu">sqrt</span>(n)) <span class="co"># standard error</span></span></code></pre></div>
<pre><code>##   n     mean       sd       SE
## 1 7 430.8286 37.47473 14.16412</code></pre>
</div>
<div id="model-evaluation-via-mean-absolute-error-mae-and-root-mean-squared-error-rmse" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Model evaluation via Mean Absolute Error (MAE) and Root Mean Squared Error (RMSE)<a href="evaluating-model-predictions.html#model-evaluation-via-mean-absolute-error-mae-and-root-mean-squared-error-rmse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="evaluating-model-predictions.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Model evaluation stats</span></span>
<span id="cb171-2"><a href="evaluating-model-predictions.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mae</span>(centgrain13[,<span class="dv">3</span>], obsgrain[,<span class="dv">3</span>]) <span class="co"># mean absolute error for predicted vs. observed yields</span></span></code></pre></div>
<pre><code>## [1] 32.46613</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="evaluating-model-predictions.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rmse</span>(centgrain13[,<span class="dv">3</span>], obsgrain[,<span class="dv">3</span>]) <span class="co"># root mean squared error for predicted vs. observed yields</span></span></code></pre></div>
<pre><code>## [1] 40.71014</code></pre>
<p>From the MAE, we see that the average amount that predicted values deviated from observed values in either the positive or negative direction was 32.47. If the RMSE was close or equal to the standard deviations of observed data, then the model would be considered a good fit. In this case, the RMSE is much higher than the standard deviations. From this and the low significance of the linear regression models, we can see that the Century Model was not a very good fit with the observed data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multivariate-statistics-and-principle-components-analysis.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Rportfolio-bookdown.pdf", "Rportfolio-bookdown.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
